Реализация классических семафоров Дейкстры
через очереди сообщений IPC.

Для этого вводится специальный синхронизирующий
процесс-сервер. Процесс-сервер обслуживает
переменную-счетчик, играющую роль семафора mutex,
реализующего взаимоисключение на критических
участках для двух процессов-клиентов, работающих
с разделяемой памятью. Также процесс-сервер
организует очередь из процессов, ожидающих
разблокироки. 

Процесс-сервер в бесконечном цикле ожидает приема
сообщений с типом CLIENT_TYPE от процессов-клиентов.

Процессы-клиенты могут посылать сообщения с типом
CLIENT_TYPE, содержательная часть которых содержит
PID процесса-отправителя и символ P или V,
соответствующий операциям P или V для семафора.
После отправки сообщения серверу, клиенты дожидаются
обратного сообщения от сервера с типом, равным
собственному PID с тем, чтобы продолжить свою работу.

Процесс-сервер, получив сообщение от клиента,
анализирует его содержимое. Если пришел запрос на
операцию V, сервер немедленно отправляет обратное
сообщение клиенту-отправителю, сигнализирующее, что
последний может продолжить штатное выполнение. Далее
сервер проверяет, пуста ли очередь ожидания.
Если очередь клиентов, ожидающих разблокировки,
не пуста, из нее выбирается клиент в порядке FIFO.
Этому клиенту отправляется сообщение с тем, чтобы он
смог продолжить свою работу.
Если же очередь пуста, то переменная mutex просто
инкрементируется.

Если серверу пришел запрос P, проверяется значение
переменной mutex. В случае нулевого значения, PID
клиента, приславшего запрос, заноситя в очередь
ожидания. Обратное сообщение не посылается.
В противном случае, значение mutex декрементируется,
клиенту посылается сообщение.
